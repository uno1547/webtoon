<!DOCTYPE html>
<html>
  <head>
    <style>
      .dragging {
        display: inline-block;
        width: 300px;
        height: 300px;
        background-color:aquamarine;
        border-radius: 20px;
        position: fixed;
        top: 0px;
        left: 0px;
      }
    </style>
  </head>
  <body>
    <div class="dragging">
    </div>
    <script>
      const dragElem = document.querySelector(".dragging")
      let curLocation = null
      dragElem.addEventListener("mousedown", (evt) => {
        console.log("Mouse Down")
        curLocation = {
          x: evt.pageX,//마우스좌표
          y: evt.pageY
        }
        console.log(curLocation.x)
        console.log(curLocation.y)
        const rect = dragElem.getBoundingClientRect()
        leftPx = rect.left //박스의좌표값
        topPx = rect.top
        console.log(leftPx, topPx)
      })
      
      dragElem.addEventListener("mousemove", (evt) => {
        if (curLocation !== null) {
          const newLocation = {
            x: evt.pageX,//움직이는 마우스좌표 
            y: evt.pageY
          }
          const deltaX = newLocation.x - curLocation.x
          const deltaY = newLocation.y - curLocation.y
          if (leftPx) {//박스x값이 0이아닐때 
            dragElem.style.left = leftPx + deltaX +'px' 
            leftPx + deltaX
            console.log(dragElem.style.left)
          }
          else
            dragElem.style.left = `${deltaX}px`//박스x좌표 변화없을때 

          if (topPx) {
            dragElem.style.top = `${topPx + deltaY}px`
          }
          else
            dragElem.style.top = `${deltaY}px`
        }
      })
      dragElem.addEventListener("mouseup", (evt) => {
        console.log("Mouse up")
        curLocation = null
      })

    </script>
  </body>
</html>